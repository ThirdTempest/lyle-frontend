import{j as e}from"./jsx-runtime.s5l94Kta.js";import{r}from"./index.Dkaqzkgy.js";function x(){const[i,n]=r.useState([]),[l,d]=r.useState(!0);return r.useEffect(()=>{(async()=>{const t=localStorage.getItem("auth_token");if(!t){window.location.href="/login";return}try{const a=await fetch("http://127.0.0.1:8000/api/orders",{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(a.ok){const c=await a.json();n(c)}else console.error("Failed to fetch orders")}catch(a){console.error("Error fetching orders:",a)}finally{d(!1)}})()},[]),l?e.jsx("div",{className:"text-center py-12",children:"Loading orders..."}):i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"No orders found"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't placed any orders yet."}),e.jsx("div",{className:"mt-6",children:e.jsx("a",{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Start Shopping"})})]}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:i.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-indigo-600 truncate",children:["Order #",s.id]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Total: $",s.total_amount]})}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsxs("p",{children:["Placed on ",e.jsx("time",{dateTime:s.created_at,children:new Date(s.created_at).toLocaleDateString()})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Items"}),e.jsx("ul",{className:"mt-2 divide-y divide-gray-200",children:s.items.map(t=>e.jsxs("li",{className:"py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[t.quantity,"x"]}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:t.product.name})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["$",t.price]})]},t.id))})]})]})},s.id))})})}export{x as default};
