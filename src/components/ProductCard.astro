---
interface Props {
  id: number;
  name: string;
  price: number;
  image_url: string;
  slug: string;
}

import AddToCartButton from './AddToCartButton';

const { id, name, price, image_url, slug } = Astro.props;
---

<div class="group relative">
  <a href={`/products/${slug}`} class="block">
    <div class="w-full aspect-square bg-gray-200 rounded-lg overflow-hidden">
      <img src={image_url} alt={name} class="w-full h-full object-center object-contain group-hover:opacity-75 p-4" />
    </div>
    <h3 class="mt-4 text-sm text-gray-700">{name}</h3>
    <p class="mt-1 text-lg font-medium text-gray-900">${price}</p>
  </a>
  <div class="mt-4">
    <AddToCartButton client:load product={{ id, name, price, image_url }} />
  </div>
</div>
